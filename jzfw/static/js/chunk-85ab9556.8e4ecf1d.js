(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85ab9556"],{"22f2":function(t,e,r){"use strict";r("e56f")},2423:function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return i}));var a=r("b775");function n(t){return Object(a["c"])("/article/pageQuery",t)}function o(t){return Object(a["d"])("/article/saveOrUpdate",t)}function s(t){return Object(a["d"])("/article/changeStatus",t)}function i(t){return Object(a["c"])("/article/deleteById",t)}},a710:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.form}},[r("el-form-item",[r("el-select",{attrs:{placeholder:"状态",clearable:""},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[r("el-option",{attrs:{label:"未审核",value:"未审核"}}),t._v(" "),r("el-option",{attrs:{label:"审核通过",value:"审核通过"}}),t._v(" "),r("el-option",{attrs:{label:"审核不通过",value:"审核不通过"}}),t._v(" "),r("el-option",{attrs:{label:"推荐",value:"推荐"}})],1)],1),t._v(" "),r("el-form-item",[r("el-input",{attrs:{placeholder:"标题",clearable:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择栏目",clearable:""},model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}},t._l(t.categoryData,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.toSearch}},[t._v("查询")])],1),t._v(" "),r("el-button",{staticClass:"up",attrs:{type:"primary"},on:{click:t.toAdd}},[t._v("发布风采")])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"审核风采信息",visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[r("h3",{staticClass:"title"},[t._v(t._s(t.formTwo.title))]),t._v(" "),r("span",{domProps:{innerHTML:t._s(t.formTwo.content)}}),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.noPass(t.formTwo.id)}}},[t._v("审核不通过")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.toPass(t.formTwo.id)}}},[t._v("审核通过")])],1)]),t._v(" "),r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"row-click":t.toJump}},[r("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"80"}}),t._v(" "),r("el-table-column",{attrs:{prop:"cover",label:"封面",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticClass:"photo",attrs:{src:t.row.cover,alt:""}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"",label:"风采"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v(t._s(e.row.title))]),t._v(" "),r("div",[t._v("\n            "+t._s(null===e.row.baseUser?"":e.row.baseUser.realname)+"\n          ")]),t._v(" "),r("div",[t._v("\n            "+t._s(null===e.row.category?"":e.row.category.name)+"\n          ")]),t._v(" "),r("div",[t._v(t._s(e.row.publishTime))])]}}])}),t._v(" "),r("el-table-column",{attrs:{fixed:"right",prop:"status",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["审核通过"===e.row.status?r("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.status))]):t._e(),t._v(" "),"未审核"===e.row.status?r("el-tag",{attrs:{type:"info"}},[t._v(t._s(e.row.status))]):t._e(),t._v(" "),"推荐"===e.row.status?r("el-tag",{attrs:{type:"warning"}},[t._v(t._s(e.row.status))]):t._e(),t._v(" "),"审核不通过"===e.row.status?r("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.row.status))]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return r.stopPropagation(),t.toRecommend(e.row)}}},[t._v("推荐")]),t._v(" "),r("el-button",{staticClass:"blue_info",attrs:{type:"text",size:"small"},on:{click:function(r){return r.stopPropagation(),t.toExamine(e.row)}}},[t._v("审核")]),t._v(" "),r("el-button",{staticClass:"red_info",attrs:{type:"text",size:"small"},on:{click:function(r){return r.stopPropagation(),t.toDelete(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),r("el-pagination",{attrs:{"current-page":t.params.page,"page-sizes":[2,5,10,15],"page-size":t.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},n=[],o=(r("ac67"),r("1bc7"),r("32ea"),r("46d3")),s=(r("6a61"),r("99a5")),i=r("2423"),c=r("c405");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={data:function(){return{formTwo:{},visible:!1,categoryData:[],loading:!0,tableData:[],form:{},total:0,params:{page:1,pageSize:10}}},computed:{},watch:{params:{handler:function(){this.queryData()},deep:!0}},created:function(){this.queryData(),this.categoryQuery()},mounted:function(){},methods:{toJump:function(t){console.log(this.tableData),this.$router.push({path:"/Details",query:{id:t.id}})},toPass:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["a"])({id:e,status:"审核通过"});case 2:r=t.sent,this.$notify.success({title:"成功",message:r.message}),this.queryData(),this.visible=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),noPass:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["a"])({id:e,status:"审核不通过"});case 2:r=t.sent,this.$notify.success({title:"成功",message:r.message}),this.queryData(),this.visible=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),toDelete:function(t){var e=this;this.$confirm("是否删除该资讯","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(i["b"])({id:t});case 2:a=r.sent,e.$notify.success({title:"成功",message:a.message}),e.queryData();case 5:case"end":return r.stop()}}),r)})))).catch((function(){e.$message({type:"info",message:"删除未成功"})}))},toExamine:function(t){this.formTwo=t,this.visible=!0},toRecommend:function(t){var e=this;this.$confirm("是否推荐该资讯","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(i["a"])({id:t.id,status:"推荐"});case 2:a=r.sent,e.$notify.success({title:"成功",message:a.message}),e.queryData();case 5:case"end":return r.stop()}}),r)})))).catch((function(){e.$message({type:"info",message:"推荐未成功"})}))},toSearch:function(){this.queryData()},toAdd:function(){this.$router.push({path:"/Publish",query:{}})},categoryQuery:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["b"])();case 2:e=t.sent,this.categoryData=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),queryData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r in this.loading=!0,e=l(l({},this.form),this.params),e)e[r]||delete e[r];return t.next=5,Object(i["c"])(e);case 5:a=t.sent,this.loading=!1,this.tableData=a.data.list,this.total=a.data.total,this.imageUrl=a.data.cover;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){this.params={page:1,pageSize:t}},handleCurrentChange:function(t){this.params.page=t}}},p=f,d=(r("22f2"),r("4ac2")),m=Object(d["a"])(p,a,n,!1,null,"daa5a04e",null);e["default"]=m.exports},c405:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return s}));var a=r("b775");function n(t){return Object(a["a"])({url:"/category/findAll",method:"get",data:t})}function o(t){return Object(a["c"])("/category/deleteById",t)}function s(t){return Object(a["a"])({url:"/category/saveOrUpdate",method:"post",params:t})}},e56f:function(t,e,r){}}]);